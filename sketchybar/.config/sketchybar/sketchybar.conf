#!/usr/bin/env bash

#
# Main SketchyBar configuration
#

CONFIG_DIR="$HOME/.config/sketchybar"
PLUGIN_DIR="$CONFIG_DIR/plugins"

# Load color & font variables
source "$CONFIG_DIR/colors.sh"
source "$CONFIG_DIR/fonts.sh"
source "$CONFIG_DIR/icons.sh"

# Define a custom event for AeroSpace workspace changes
sketchybar --add event aerospace_workspace_change

# Create the bottom bar with valid properties
sketchybar --bar \
    position=bottom \
    height=36 \
    color=$BAR_BG \
    blur_radius=20 \
    padding_left=15 \
    padding_right=15 \
    corner_radius=10

# ------------------
# WORKSPACE NUMBERS
# ------------------
"$PLUGIN_DIR/aerospace_workspaces.sh"

# ------------------
# Right-side widgets
# ------------------
"$PLUGIN_DIR/window_title.sh"
"$PLUGIN_DIR/network.sh"
"$PLUGIN_DIR/cpu.sh"
"$PLUGIN_DIR/memory.sh"
"$PLUGIN_DIR/battery.sh"

